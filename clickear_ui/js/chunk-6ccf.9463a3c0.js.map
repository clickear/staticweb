{"version":3,"sources":["webpack:///./src/views/admin/role/index.vue?2f58","webpack:///./src/views/admin/role/index.vue?835a","webpack:///src/views/admin/role/index.vue","webpack:///./src/views/admin/role/index.vue?d73d","webpack:///./src/views/admin/role/index.vue","webpack:///./src/const/admin/adminTabelOption.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_518c77d9_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","ref","attrs","option","tableOption","data","tableData","table-loading","tableLoading","page","width","on","row-save","handleSave","row-update","handleUpdate","row-del","handleDel","scopedSlots","_u","key","fn","scope","icon","size","click","$event","handleGrade","row","$index","_v","title","visible","grade","box","update:visible","$set","menuAll","default-checked-keys","check","default-expanded-keys","show-checkbox","node-key","check-change","handleGradeCheckChange","staticClass","slot","type","handleGradeUpdate","staticRenderFns","rolevue_type_script_lang_js_","name","components","tablePage","tabelObj","total","currentPage","pageSize","created","adminTabelOption","handleList","watch","mounted","computed","Object","objectSpread","external_Vuex_","props","methods","concat","checked","indeterminate","push","id","splice","indexOf","index","_this","$store","dispatch","then","handleAdd","$refs","crud","rowAdd","_this2","setTimeout","done","$message","showClose","message","_this3","$confirm","confirmButtonText","cancelButtonText","catch","err","admin_rolevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","userOption","border","height","indexLabel","selection","dicData","_const_dic__WEBPACK_IMPORTED_MODULE_0__","dic","formWidth","column","label","prop","rules","required","trigger","format","valueFormat","formHeight","hide","span","solt","roleOption","calcHeight","menuAlign","menuWidth"],"mappings":"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","file":"js/chunk-6ccf.9463a3c0.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=518c77d9&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=518c77d9&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('basic-container',[_c('avue-crud',{ref:\"crud\",attrs:{\"option\":_vm.tableOption,\"data\":_vm.tableData,\"table-loading\":_vm.tableLoading,\"page\":_vm.page,\"width\":\"290\"},on:{\"row-save\":_vm.handleSave,\"row-update\":_vm.handleUpdate,\"row-del\":_vm.handleDel},scopedSlots:_vm._u([{key:\"menu\",fn:function(scope){return [_c('el-button',{attrs:{\"icon\":\"el-icon-check\",\"size\":\"small\"},on:{\"click\":function($event){_vm.handleGrade(scope.row,scope.$index)}}},[_vm._v(\"权限\")])]}}])}),_c('el-dialog',{attrs:{\"title\":\"菜单\",\"visible\":_vm.grade.box,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.$set(_vm.grade, \"box\", $event)}}},[_c('el-tree',{attrs:{\"data\":_vm.menuAll,\"default-checked-keys\":_vm.grade.check,\"default-expanded-keys\":_vm.grade.check,\"show-checkbox\":\"\",\"node-key\":\"id\"},on:{\"check-change\":_vm.handleGradeCheckChange}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleGradeUpdate}},[_vm._v(\"更新\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <basic-container>\r\n      <avue-crud :option=\"tableOption\"\r\n                 :data=\"tableData\"\r\n                 :table-loading=\"tableLoading\"\r\n                 :page=\"page\"\r\n                 ref=\"crud\"\r\n                 width=\"290\"\r\n                 @row-save=\"handleSave\"\r\n                 @row-update=\"handleUpdate\"\r\n                 @row-del=\"handleDel\">\r\n        <template slot-scope=\"scope\"\r\n                  slot=\"menu\">\r\n          <el-button icon=\"el-icon-check\"\r\n                     size=\"small\"\r\n                     @click=\"handleGrade(scope.row,scope.$index)\">权限</el-button>\r\n        </template>\r\n      </avue-crud>\r\n      <el-dialog title=\"菜单\"\r\n                 :visible.sync=\"grade.box\"\r\n                 width=\"40%\">\r\n        <el-tree :data=\"menuAll\"\r\n                 :default-checked-keys=\"grade.check\"\r\n                 :default-expanded-keys=\"grade.check\"\r\n                 show-checkbox\r\n                 node-key=\"id\"\r\n                 @check-change=\"handleGradeCheckChange\">\r\n        </el-tree>\r\n        <span slot=\"footer\"\r\n              class=\"dialog-footer\">\r\n          <el-button type=\"primary\"\r\n                     @click=\"handleGradeUpdate\">更新</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </basic-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { roleOption } from \"@/const/admin/adminTabelOption.js\";\r\nexport default {\r\n  name: \"role\",\r\n  components: {},\r\n  data () {\r\n    return {\r\n      tableOption: {}, //表格设置属性\r\n      tableData: [], //表格的数据\r\n      tablePage: 1,\r\n      tableLoading: false,\r\n      tabelObj: {},\r\n      page: {\r\n        total: 0, //总页数\r\n        currentPage: 1, //当前页数\r\n        pageSize: 10 //每页显示多少条\r\n      },\r\n      grade: {\r\n        box: false,\r\n        check: []\r\n      }\r\n    };\r\n  },\r\n  created () {\r\n    //初始化数据格式\r\n    this.tableOption = roleOption;\r\n    this.handleList();\r\n  },\r\n  watch: {},\r\n  mounted () { },\r\n  computed: {\r\n    ...mapGetters([\"permission\", \"menuAll\"])\r\n  },\r\n  props: [],\r\n  methods: {\r\n    /**\r\n     * @title 权限更新\r\n     *\r\n     **/\r\n    handleGradeUpdate () {\r\n      this.tabelObj.check = [].concat(this.grade.check);\r\n      this.tabelObj = {};\r\n      this.grade.check = [];\r\n      this.grade.box = false;\r\n    },\r\n    /**\r\n     * @title 权限选择\r\n     *\r\n     **/\r\n    handleGradeCheckChange (data, checked, indeterminate) {\r\n      if (checked) {\r\n        this.grade.check.push(data.id);\r\n      } else {\r\n        this.grade.check.splice(this.grade.check.indexOf(data.id), 1);\r\n      }\r\n    },\r\n    /**\r\n     * @title 打开权限\r\n     */\r\n    handleGrade (row, index) {\r\n      this.$store.dispatch(\"GetMenuAll\").then(data => {\r\n        this.grade.box = true;\r\n        this.tabelObj = row;\r\n        this.grade.check = this.tabelObj.check;\r\n      });\r\n    },\r\n    /**\r\n     * @title 打开新增窗口\r\n     * @detail 调用crud的handleadd方法即可\r\n     *\r\n     **/\r\n    handleAdd () {\r\n      this.$refs.crud.rowAdd();\r\n    },\r\n    /**\r\n     * @title 获取数据\r\n     * @detail 赋值为tableData表格即可\r\n     *\r\n     **/\r\n    handleList () {\r\n      this.tableLoading = true;\r\n      this.$store\r\n        .dispatch(\"GetRoleData\", { page: `${this.tablePage}` })\r\n        .then(data => {\r\n          setTimeout(() => {\r\n            this.tableData = data.tableData;\r\n            this.page = {\r\n              total: data.total,\r\n              pageSize: data.pageSize\r\n            };\r\n            this.tableLoading = false;\r\n          }, 1000);\r\n        });\r\n    },\r\n    /**\r\n     * @title 数据添加\r\n     * @param row 为当前的数据\r\n     * @param done 为表单关闭函数\r\n     *\r\n     **/\r\n    handleSave (row, done) {\r\n      this.tableData.push(row);\r\n      this.$message({\r\n        showClose: true,\r\n        message: \"添加成功\",\r\n        type: \"success\"\r\n      });\r\n      done();\r\n    },\r\n    /**\r\n     * @title 数据删除\r\n     * @param row 为当前的数据\r\n     * @param index 为当前更新数据的行数\r\n     *\r\n     **/\r\n    handleDel (row, index) {\r\n      this.$confirm(`是否确认删除序号为${row.name}`, \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.tableData.splice(index, 1);\r\n          this.$message({\r\n            showClose: true,\r\n            message: \"删除成功\",\r\n            type: \"success\"\r\n          });\r\n        })\r\n        .catch(err => { });\r\n    },\r\n    /**\r\n     * @title 数据更新\r\n     * @param row 为当前的数据\r\n     * @param index 为当前更新数据的行数\r\n     * @param done 为表单关闭函数\r\n     *\r\n     **/\r\n    handleUpdate (row, index, done) {\r\n      this.tableData.splice(index, 1, row);\r\n      this.$message({\r\n        showClose: true,\r\n        message: \"修改成功\",\r\n        type: \"success\"\r\n      });\r\n      done();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.table-container {\r\n  padding: 8px 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=518c77d9&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=518c77d9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"518c77d9\",\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import {\r\n    DIC\r\n} from '@/const/dic'\r\nexport const userOption = {\r\n    border: true,\r\n    index: true,\r\n    height: 'auto',\r\n    indexLabel: '序号',\r\n    selection: false,\r\n    dicData: DIC,\r\n    dic: ['GRADE', 'STATE'],\r\n    formWidth: '60%',\r\n    column: [{\r\n            label: \"用户名\",\r\n            prop: \"username\",\r\n            width: \"150\",\r\n            rules: [{\r\n                required: true,\r\n                message: \"请输入用户名\",\r\n                trigger: \"blur\"\r\n            }]\r\n        },\r\n        {\r\n            label: \"角色\",\r\n            prop: \"grade\",\r\n            type: \"checkbox\",\r\n            dicData: 'GRADE'\r\n        },\r\n        {\r\n            label: \"创建时间\",\r\n            prop: \"date\",\r\n            type: \"datetime\",\r\n            format: \"yyyy-MM-dd HH:mm:ss\",\r\n            valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n        },\r\n        {\r\n            label: \"内容\",\r\n            prop: \"ueditor\",\r\n            type: \"ueditor\",\r\n            formHeight: 'auto',\r\n            hide: true,\r\n            span: 24,\r\n        },\r\n        {\r\n            label: \"状态\",\r\n            prop: \"state\",\r\n            solt: true,\r\n            type: \"radio\",\r\n            dicData: 'STATE'\r\n        }\r\n    ]\r\n};\r\nexport const roleOption = {\r\n    border: true,\r\n    index: true,\r\n    selection: false,\r\n    calcHeight: 320,\r\n    menuAlign: 'center',\r\n    menuWidth: 300,\r\n    column: [{\r\n            label: \"角色名称\",\r\n            prop: \"name\",\r\n            width: \"150\",\r\n            rules: [{\r\n                required: true,\r\n                message: \"请输入用户名\",\r\n                trigger: \"blur\"\r\n            }]\r\n        },\r\n        {\r\n            label: \"创建时间\",\r\n            prop: \"date\",\r\n            format: \"yyyy-MM-dd HH:mm:ss\",\r\n            valueFormat: \"yyyy-MM-dd HH:mm:ss\",\r\n            type: \"date\",\r\n        }\r\n    ]\r\n};"],"sourceRoot":""}