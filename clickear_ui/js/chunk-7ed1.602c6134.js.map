{"version":3,"sources":["webpack:///./src/components/iframe/main.vue?8687","webpack:///./src/components/iframe/main.vue?ecd1","webpack:///src/components/iframe/main.vue","webpack:///./src/components/iframe/main.vue?228d","webpack:///./src/components/iframe/main.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_main_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","$route","query","ref","staticClass","attrs","src","urlPath","staticRenderFns","mainvue_type_script_lang_js_","name","data","getUrlPath","created","nprogress_default","a","configure","showSpinner","mounted","load","resize","props","watch","routerPath","components","Object","objectSpread","external_Vuex_","tagListNum","tagList","length","methods","show","start","hide","done","_this","window","onresize","iframeInit","_this2","flag","indexOf","list","key","push","concat","join","toString","time","timeFunc","setInterval","clearInterval","_this3","iframe","$refs","clientHeight","document","documentElement","style","height","attachEvent","onload","url","location","href","replace","iframe_mainvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"uIAA2fA,EAAA,4CCA3f,IAAAC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,mBAAAJ,EAAAM,OAAAC,MAAA,IAAAH,EAAA,UAA2EI,IAAA,SAAAC,YAAA,SAAAC,OAAyCC,IAAAX,EAAAM,OAAAC,MAAAI,OAA4BP,EAAA,UAAeI,IAAA,SAAAC,YAAA,SAAAC,OAAyCC,IAAAX,EAAAY,cAAmB,IACpTC,wECkBAC,cACAC,KAAA,aACAC,KAFA,WAGA,OACAJ,QAAAX,KAAAgB,eAGAC,QAPA,WAQAC,EAAAC,EAAAC,WAAAC,aAAA,KAEAC,QAVA,WAWAtB,KAAAuB,OACAvB,KAAAwB,UAEAC,OAAA,cACAC,OACArB,OAAA,WACAL,KAAAuB,QAEAI,WAAA,WAEA3B,KAAAW,QAAAX,KAAAgB,eAGAY,WAAAC,OAAAC,EAAA,KAAAD,IACAA,OAAAE,EAAA,cAAAF,EAAA,aACAG,WAAA,WACA,UAAAhC,KAAAiC,QAAAC,UAGAC,SAEAC,KAFA,WAGAlB,EAAAC,EAAAkB,SAGAC,KANA,WAOApB,EAAAC,EAAAoB,QAGAf,OAVA,WAUA,IAAAgB,EAAAxC,KACAyC,OAAAC,SAAA,WACAF,EAAAG,eAIApB,KAhBA,WAgBA,IAAAqB,EAAA5C,KACAA,KAAAoC,OACA,IAAAS,GAAA,GACA,GAAA7C,KAAAK,OAAAC,MAAAI,IAAAoC,QAAA,OACAD,GAAA,GAEA,IAAAE,KACA,QAAAC,KAAAhD,KAAAK,OAAAC,MACA,OAAA0C,GAAA,QAAAA,GACAD,EAAAE,KAAA,GAAAC,OAAAF,EAAA,6BAGAD,IAAAI,KAAA,KAAAC,WAEApD,KAAAK,OAAAC,MAAAI,IADAmC,EACA,GAAAK,OAAAlD,KAAAK,OAAAC,MAAAI,KAAAwC,OACAH,EAAAb,OAAA,cAGA,GAAAgB,OAAAlD,KAAAK,OAAAC,MAAAI,KAAAwC,OACAH,EAAAb,OAAA,cAIA,IAAAmB,EAAA,EACAC,EAAAC,YAAA,WACAF,IACA,GAAAA,IACAT,EAAAN,OACAkB,cAAAF,KAEA,KACAtD,KAAA2C,cAGAA,WAlDA,WAkDA,IAAAc,EAAAzD,KACA0D,EAAA1D,KAAA2D,MAAAD,OACAE,EAAAC,SAAAC,gBAAAF,aAAA,IACAF,EAAAK,MAAAC,OAAA,GAAAd,OAAAU,EAAA,MACAF,EAAAO,YACAP,EAAAO,YAAA,oBACAR,EAAAnB,SAGAoB,EAAAQ,OAAA,WACAT,EAAAnB,SAIAtB,WAAA,WAEA,IAAAmD,EAAA1B,OAAA2B,SAAAC,KAEA,OADAF,IAAAG,QAAA,gBACAH,MCrHoRI,EAAA,0BCQpRC,EAAA3C,OAAA4C,EAAA,KAAA5C,CACA0C,EACAzE,EACAc,GACA,EACA,KACA,KACA,MAIA4D,EAAAE,QAAAC,OAAA,WACAC,EAAA,WAAAJ","file":"js/chunk-7ed1.602c6134.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('basic-container',[(_vm.$route.query.src)?_c('iframe',{ref:\"iframe\",staticClass:\"iframe\",attrs:{\"src\":_vm.$route.query.src}}):_c('iframe',{ref:\"iframe\",staticClass:\"iframe\",attrs:{\"src\":_vm.urlPath}})])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <basic-container>\r\n      <iframe v-if=\"$route.query.src\"\r\n              :src='$route.query.src'\r\n              class=\"iframe\"\r\n              ref=\"iframe\"></iframe>\r\n      <iframe v-else\r\n              :src=\"urlPath\"\r\n              class=\"iframe\"\r\n              ref=\"iframe\"></iframe>\r\n    </basic-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport NProgress from 'nprogress' // progress bar\r\nimport 'nprogress/nprogress.css' // progress bar style\r\nexport default {\r\n  name: 'AvueIframe',\r\n  data () {\r\n    return {\r\n      urlPath: this.getUrlPath() //iframe src 路径\r\n    }\r\n  },\r\n  created () {\r\n    NProgress.configure({ showSpinner: false })\r\n  },\r\n  mounted () {\r\n    this.load()\r\n    this.resize()\r\n  },\r\n  props: ['routerPath'],\r\n  watch: {\r\n    $route: function () {\r\n      this.load()\r\n    },\r\n    routerPath: function () {\r\n      // 监听routerPath变化，改变src路径\r\n      this.urlPath = this.getUrlPath()\r\n    }\r\n  },\r\n  components: {\r\n    ...mapGetters(['tagList']),\r\n    tagListNum: function () {\r\n      return this.tagList.length != 0\r\n    }\r\n  },\r\n  methods: {\r\n    // 显示等待框\r\n    show () {\r\n      NProgress.start()\r\n    },\r\n    // 隐藏等待狂\r\n    hide () {\r\n      NProgress.done()\r\n    },\r\n    // 加载浏览器窗口变化自适应\r\n    resize () {\r\n      window.onresize = () => {\r\n        this.iframeInit()\r\n      }\r\n    },\r\n    // 加载组件\r\n    load () {\r\n      this.show()\r\n      var flag = true //URL是否包含问号\r\n      if (this.$route.query.src.indexOf('?') == -1) {\r\n        flag = false\r\n      }\r\n      var list = []\r\n      for (var key in this.$route.query) {\r\n        if (key != 'src' && key != 'name') {\r\n          list.push(`${key}= this.$route.query[key]`)\r\n        }\r\n      }\r\n      list = list.join('&').toString()\r\n      if (flag) {\r\n        this.$route.query.src = `${this.$route.query.src}${\r\n          list.length > 0 ? `&list` : ''\r\n          }`\r\n      } else {\r\n        this.$route.query.src = `${this.$route.query.src}${\r\n          list.length > 0 ? `?list` : ''\r\n          }`\r\n      }\r\n      //超时3s自动隐藏等待狂，加强用户体验\r\n      let time = 3\r\n      const timeFunc = setInterval(() => {\r\n        time--\r\n        if (time == 0) {\r\n          this.hide()\r\n          clearInterval(timeFunc)\r\n        }\r\n      }, 1000)\r\n      this.iframeInit()\r\n    },\r\n    //iframe窗口初始化\r\n    iframeInit () {\r\n      const iframe = this.$refs.iframe\r\n      const clientHeight = document.documentElement.clientHeight - 200\r\n      iframe.style.height = `${clientHeight}px`\r\n      if (iframe.attachEvent) {\r\n        iframe.attachEvent('onload', () => {\r\n          this.hide()\r\n        })\r\n      } else {\r\n        iframe.onload = () => {\r\n          this.hide()\r\n        }\r\n      }\r\n    },\r\n    getUrlPath: function () {\r\n      //获取 iframe src 路径\r\n      let url = window.location.href\r\n      url = url.replace('/myiframe', '')\r\n      return url\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.iframe {\r\n  width: 100%;\r\n  height: 100%;\r\n  border: 0;\r\n  overflow: hidden;\r\n  box-sizing: border-box;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./main.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./main.vue?vue&type=template&id=6b0c8c0a&\"\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"main.vue\"\nexport default component.exports"],"sourceRoot":""}