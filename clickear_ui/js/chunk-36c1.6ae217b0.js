(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36c1"],{"0b41":function(e,t,n){},"15f4":function(e,t,n){},4833:function(e,t,n){"use strict";var o=n("15f4"),i=n.n(o);i.a},5056:function(e,t,n){},5442:function(e,t,n){"use strict";var o=n("976b"),i=n.n(o);i.a},5596:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container pull-height",nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}}},[n("div",{staticClass:"login-info text-white animated fadeInLeft"},[n("h2",{staticClass:"login-info-title"},[e._v(e._s(e.website.info.title))]),n("ul",{staticClass:"login-info-list"},e._l(e.website.info.list,function(t,o){return n("li",{key:o,staticClass:"login-info-item"},[n("i",{staticClass:"el-icon-check"}),e._v(" "+e._s(t)+"\n      ")])}))]),n("div",{staticClass:"login-border  animated fadeInRight"},[n("div",{staticClass:"login-main"},[n("h4",{staticClass:"login-title"},[e._v("登录"+e._s(e.website.title)+"\n        "),n("top-color")],1),n("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"用户密码",name:"user"}},[n("userLogin")],1),n("el-tab-pane",{attrs:{label:"短信验证码",name:"code"}},[n("codeLogin")],1),n("el-tab-pane",{attrs:{label:"第三方授权登录",name:"third"}},[n("thirdLogin")],1)],1)],1)])])},i=[],s=n("c93e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.loginForm,"label-width":"0"}},[n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入用户名"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[n("i",{staticClass:"icon-yonghu",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{size:"small",type:e.passwordType,"auto-complete":"off",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[n("i",{staticClass:"el-icon-view el-input__icon",attrs:{slot:"suffix"},on:{click:e.showPassword},slot:"suffix"}),n("i",{staticClass:"icon-mima",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"code"}},[n("el-row",{attrs:{span:24}},[n("el-col",{attrs:{span:14}},[n("el-input",{attrs:{size:"small",maxlength:e.code.len,"auto-complete":"off",placeholder:"请输入验证码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[n("i",{staticClass:"icon-yanzhengma",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-col",{attrs:{span:10}},[n("div",{staticClass:"login-code"},["text"==e.code.type?n("span",{staticClass:"login-code-img",on:{click:e.refreshCode}},[e._v(e._s(e.code.value))]):n("img",{staticClass:"login-code-img",attrs:{src:e.code.src},on:{click:e.refreshCode}})])])],1)],1),n("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住账号")]),n("el-form-item",[n("el-button",{staticClass:"login-submit",attrs:{type:"primary",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1)],1)},l=[],r=n("c54a"),c=n("0e0b"),u=n("5880"),d={name:"userlogin",data:function(){var e=this,t=function(e,t,n){Object(r["a"])(t)?n():n(new Error("请输入正确的用户名"))},n=function(t,n,o){e.code.value!=n?(e.loginForm.code="",e.refreshCode(),o(new Error("请输入正确的验证码"))):o()};return{loginForm:{username:"admin",password:"123456",code:"",redomStr:""},checked:!1,code:{src:"",value:"",len:4,type:"text"},loginRules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度最少为6位",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:4,message:"验证码长度为4位",trigger:"blur"},{required:!0,trigger:"blur",validator:n}]},passwordType:"password"}},created:function(){this.refreshCode()},mounted:function(){},computed:Object(s["a"])({},Object(u["mapGetters"])(["tagWel"])),props:[],methods:{refreshCode:function(){this.loginForm.redomStr=Object(c["g"])(this.code.len,!0),"text"==this.code.type?this.code.value=Object(c["g"])(this.code.len):this.code.src="".concat(this.codeUrl,"/").concat(this.loginForm.redomStr),this.loginForm.code=this.code.value},showPassword:function(){""==this.passwordType?this.passwordType="password":this.passwordType=""},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&e.$store.dispatch("LoginByUsername",e.loginForm).then(function(){e.$router.push({path:e.tagWel.value})})})}}},m=d,p=(n("4833"),n("2877")),g=Object(p["a"])(m,a,l,!1,null,null,null);g.options.__file="userlogin.vue";var f=g.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"status-icon":"",rules:e.loginRules,model:e.loginForm,"label-width":"0"}},[n("el-form-item",{attrs:{prop:"phone"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入手机号码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.loginForm.phone,callback:function(t){e.$set(e.loginForm,"phone",t)},expression:"loginForm.phone"}},[n("i",{staticClass:"icon-shouji",attrs:{slot:"prefix"},slot:"prefix"})])],1),n("el-form-item",{attrs:{prop:"code"}},[n("el-input",{attrs:{size:"small","auto-complete":"off",placeholder:"请输入验证码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleLogin(t):null}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[n("i",{staticClass:"icon-yanzhengma",staticStyle:{"margin-top":"6px"},attrs:{slot:"prefix"},slot:"prefix"}),n("template",{slot:"append"},[n("span",{staticClass:"msg-text",class:[{display:e.msgKey}],on:{click:e.handleSend}},[e._v(e._s(e.msgText))])])],2)],1),n("el-form-item",[n("el-button",{staticClass:"login-submit",attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("登录")])],1)],1)},v=[],b="发送验证码",k="${time}秒后重发",x=60,C={name:"codelogin",data:function(){var e=function(e,t,n){Object(r["b"])(t)[0]?n(new Error(Object(r["b"])(t)[1])):n()},t=function(e,t,n){4!=t.length?n(new Error("请输入4位数的验证码")):n()};return{msgText:b,msgTime:x,msgKey:!1,loginForm:{phone:"17547400800",code:""},loginRules:{phone:[{required:!0,trigger:"blur",validator:e}],code:[{required:!0,trigger:"blur",validator:t}]}}},created:function(){},mounted:function(){},computed:Object(s["a"])({},Object(u["mapGetters"])(["tagWel"])),props:[],methods:{handleSend:function(){var e=this;if(!this.msgKey){this.msgText=k.replace("${time}",this.msgTime),this.msgKey=!0;var t=setInterval(function(){e.msgTime--,e.msgText=k.replace("${time}",e.msgTime),0==e.msgTime&&(e.msgTime=x,e.msgText=b,e.msgKey=!1,clearInterval(t))},1e3)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&e.$store.dispatch("LoginByPhone",e.loginForm).then(function(){e.$store.commit("ADD_TAG",e.tagWel),e.$router.push({path:e.tagWel.value})})})}}},y=C,_=(n("685e"),Object(p["a"])(y,h,v,!1,null,null,null));_.options.__file="codelogin.vue";var w=_.exports,F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"social-container"},[n("div",{staticClass:"box",on:{click:function(t){e.handleClick("wechat")}}},[n("span",{staticClass:"container",style:{backgroundColor:"#6ba2d6"}},[n("i",{staticClass:"iconfont icon-weixin",attrs:{"icon-class":"wechat"}})]),n("p",{staticClass:"title"},[e._v("微信")])]),n("div",{staticClass:"box",on:{click:function(t){e.handleClick("tencent")}}},[n("span",{staticClass:"container",style:{backgroundColor:"#8dc349"}},[n("i",{staticClass:"iconfont icon-qq",attrs:{"icon-class":"qq"}})]),n("p",{staticClass:"title"},[e._v("QQ")])])])},O=[],$={name:"thirdLogin",methods:{handleClick:function(e){var t,n,o,i;o=encodeURIComponent(window.location.origin+"/#/authredirect"),"wechat"===e?(t="xxxx",i="https://open.weixin.qq.com/connect/qrconnect?appid="+t+"&redirect_uri="+o+"&state=WX&response_type=code&scope=snsapi_login#wechat_redirect"):"tencent"===e&&(n="xxxx",i="https://graph.qq.com/oauth2.0/authorize?response_type=code&state=QQ&client_id="+n+"&redirect_uri="+o),Object(c["f"])(i,e,540,540)}}},L=$,j=(n("9145"),Object(p["a"])(L,F,O,!1,null,"d51c0042",null));j.options.__file="thirdlogin.vue";var T=j.exports,q=n("44b2"),E=n("37cf"),z={name:"login",mixins:[Object(E["a"])()],components:{topColor:q["a"],userLogin:f,codeLogin:w,thirdLogin:T},data:function(){return{activeName:"user"}},watch:{$route:function(){var e=this.$route.query;if(this.socialForm.state=e.state,this.socialForm.code=e.code,!Object(r["c"])(this.socialForm.state)){var t=this.$loading({lock:!0,text:"".concat("WX"===this.socialForm.state?"微信":"QQ","登录中,请稍后。。。"),spinner:"el-icon-loading"});setTimeout(function(){t.close()},2e3)}}},created:function(){},mounted:function(){},computed:Object(s["a"])({},Object(u["mapGetters"])(["website"])),props:[],methods:{}},W=z,Q=(n("5442"),Object(p["a"])(W,o,i,!1,null,null,null));Q.options.__file="index.vue";t["default"]=Q.exports},"685e":function(e,t,n){"use strict";var o=n("0b41"),i=n.n(o);i.a},9145:function(e,t,n){"use strict";var o=n("5056"),i=n.n(o);i.a},"976b":function(e,t,n){}}]);
//# sourceMappingURL=chunk-36c1.6ae217b0.js.map