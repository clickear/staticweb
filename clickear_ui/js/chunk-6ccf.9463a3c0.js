(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ccf"],{"557e":function(e,t,a){"use strict";var n=a("874a"),i=a.n(n);i.a},"874a":function(e,t,a){},a5f6:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("basic-container",[a("avue-crud",{ref:"crud",attrs:{option:e.tableOption,data:e.tableData,"table-loading":e.tableLoading,page:e.page,width:"290"},on:{"row-save":e.handleSave,"row-update":e.handleUpdate,"row-del":e.handleDel},scopedSlots:e._u([{key:"menu",fn:function(t){return[a("el-button",{attrs:{icon:"el-icon-check",size:"small"},on:{click:function(a){e.handleGrade(t.row,t.$index)}}},[e._v("权限")])]}}])}),a("el-dialog",{attrs:{title:"菜单",visible:e.grade.box,width:"40%"},on:{"update:visible":function(t){e.$set(e.grade,"box",t)}}},[a("el-tree",{attrs:{data:e.menuAll,"default-checked-keys":e.grade.check,"default-expanded-keys":e.grade.check,"show-checkbox":"","node-key":"id"},on:{"check-change":e.handleGradeCheckChange}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleGradeUpdate}},[e._v("更新")])],1)],1)],1)],1)},i=[],o=(a("7f7f"),a("c93e")),c=a("5880"),s=a("ca05"),d={name:"role",components:{},data:function(){return{tableOption:{},tableData:[],tablePage:1,tableLoading:!1,tabelObj:{},page:{total:0,currentPage:1,pageSize:10},grade:{box:!1,check:[]}}},created:function(){this.tableOption=s["a"],this.handleList()},watch:{},mounted:function(){},computed:Object(o["a"])({},Object(c["mapGetters"])(["permission","menuAll"])),props:[],methods:{handleGradeUpdate:function(){this.tabelObj.check=[].concat(this.grade.check),this.tabelObj={},this.grade.check=[],this.grade.box=!1},handleGradeCheckChange:function(e,t,a){t?this.grade.check.push(e.id):this.grade.check.splice(this.grade.check.indexOf(e.id),1)},handleGrade:function(e,t){var a=this;this.$store.dispatch("GetMenuAll").then(function(t){a.grade.box=!0,a.tabelObj=e,a.grade.check=a.tabelObj.check})},handleAdd:function(){this.$refs.crud.rowAdd()},handleList:function(){var e=this;this.tableLoading=!0,this.$store.dispatch("GetRoleData",{page:"".concat(this.tablePage)}).then(function(t){setTimeout(function(){e.tableData=t.tableData,e.page={total:t.total,pageSize:t.pageSize},e.tableLoading=!1},1e3)})},handleSave:function(e,t){this.tableData.push(e),this.$message({showClose:!0,message:"添加成功",type:"success"}),t()},handleDel:function(e,t){var a=this;this.$confirm("是否确认删除序号为".concat(e.name),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.tableData.splice(t,1),a.$message({showClose:!0,message:"删除成功",type:"success"})}).catch(function(e){})},handleUpdate:function(e,t,a){this.tableData.splice(t,1,e),this.$message({showClose:!0,message:"修改成功",type:"success"}),a()}}},l=d,r=(a("557e"),a("2877")),h=Object(r["a"])(l,n,i,!1,null,"518c77d9",null);h.options.__file="index.vue";t["default"]=h.exports},ca05:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return o});var n=a("e349"),i={border:!0,index:!0,height:"auto",indexLabel:"序号",selection:!1,dicData:n["a"],dic:["GRADE","STATE"],formWidth:"60%",column:[{label:"用户名",prop:"username",width:"150",rules:[{required:!0,message:"请输入用户名",trigger:"blur"}]},{label:"角色",prop:"grade",type:"checkbox",dicData:"GRADE"},{label:"创建时间",prop:"date",type:"datetime",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss"},{label:"内容",prop:"ueditor",type:"ueditor",formHeight:"auto",hide:!0,span:24},{label:"状态",prop:"state",solt:!0,type:"radio",dicData:"STATE"}]},o={border:!0,index:!0,selection:!1,calcHeight:320,menuAlign:"center",menuWidth:300,column:[{label:"角色名称",prop:"name",width:"150",rules:[{required:!0,message:"请输入用户名",trigger:"blur"}]},{label:"创建时间",prop:"date",format:"yyyy-MM-dd HH:mm:ss",valueFormat:"yyyy-MM-dd HH:mm:ss",type:"date"}]}}}]);
//# sourceMappingURL=chunk-6ccf.9463a3c0.js.map